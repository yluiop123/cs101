# 边界匹配符

## 量词

到目前为止，我们只关心在特定输入字符串中的某个位置是否找到匹配项。我们从未关心匹配发生在字符串的哪个位置。

您可以通过使用边界匹配符来指定此类信息，使您的模式匹配更精确。例如，您可能只对在行的开头或结尾出现的特定单词感兴趣。或者，您可能想知道匹配是否发生在单词边界上，或者是在上一个匹配的结尾。

以下表格列出并解释了所有边界匹配符：

| 边界构造 | 描述 |
| --- | --- |
| `^` | 行的开始 |
| `$` | 行的结束 |
| `\b` | 单词边界 |
| `\B` | 非单词边界 |
| `\A` | 输入的开始 |
| `\G` | 上一个匹配的结束 |
| `\Z` | 输入的结尾，但如果不是最终终结符，则不包括 |
| `\z` | 输入的结尾 |

以下示例演示了使用边界匹配符 `^` 和 `$`。如上所述，`^` 匹配行的开始，`$` 匹配行的结束。

```markdown
输入您的正则表达式: ^dog$
输入要搜索的字符串: dog
我发现文本 "dog" 从索引 0 开始，到索引 3 结束。

输入您的正则表达式: ^dog$
输入要搜索的字符串: dog（前面有空格）
未找到匹配项。

输入您的正则表达式: \s*dog$
输入要搜索的字符串: dog（前面有无限多的空格）
我发现文本 "dog" 从索引 0 开始，到索引 15 结束。

输入您的正则表达式: ^dog\w*
输入要搜索的字符串: dogblahblah
我发现文本 "dogblahblah" 从索引 0 开始，到索引 11 结束。
```

第一个示例成功，因为模式占据了整个输入字符串。第二个示例失败，因为输入字符串开头有额外的空白。第三个示例指定了一个表达式，允许有无限的空白，后面是行尾的 "dog"。第四个示例要求 "dog" 出现在行的开头，后面是无限数量的单词字符。

要检查一个模式是否在单词边界（而不是更长字符串中的子字符串）的开始和结束，只需在两侧使用 `\b`；例如，`\bdog\b`。

```markdown
输入您的正则表达式: \bdog\b
输入要搜索的字符串: The dog plays in the yard.
我发现文本 "dog" 从索引 4 开始，到索引 7 结束。

输入您的正则表达式: \bdog\b
输入要搜索的字符串: The doggie plays in the yard.
未找到匹配项。
```

要在非单词边界上匹配表达式，请使用 `\B`：

```markdown
输入您的正则表达式: \bdog\B
输入要搜索的字符串: The dog plays in the yard.
未找到匹配项。

输入您的正则表达式: \bdog\B
输入要搜索的字符串: The doggie plays in the yard.
我发现文本 "dog" 从索引 4 开始，到索引 7 结束。
```

要要求匹配仅在上一个匹配的结尾发生，请使用 `\G`：

```markdown
输入您的正则表达式: dog
输入要搜索的字符串: dog dog
我发现文本 "dog" 从索引 0 开始，到索引 3 结束。
我发现文本 "dog" 从索引 4 开始，到索引 7 结束。

输入您的正则表达式: \Gdog
输入要搜索的字符串: dog dog
我发现文本 "dog" 从索引 0 开始，到索引 3 结束。
```

这里第二个示例只找到一个匹配项，因为 "dog" 的第二次出现没有在上一个匹配的结尾开始。


