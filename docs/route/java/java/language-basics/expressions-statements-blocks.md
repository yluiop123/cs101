# 表达式、语句和代码块

## 表达式
表达式是由变量、运算符和方法调用组成的结构，根据语言的语法构造而成，它计算出一个单一的值。您已经在代码中看到过表达式的例子，如下所示：

```java
int cadence = 0;
anArray[0] = 100;
System.out.println("Element 1 at index 0: " + anArray[0]);

int result = 1 + 2; // result 现在是 3
if (value1 == value2)
    System.out.println("value1 == value2");
```

表达式返回的值的数据类型取决于表达式中使用的元素。表达式 `cadence = 0` 返回一个 `int` 类型的值，因为赋值运算符返回与其左侧操作数相同的数据类型；在本例中，`cadence` 是一个 `int` 类型的变量。正如您从其他表达式中看到的，表达式也可以返回其他类型的值，例如 `boolean` 或 `String`。

Java 编程语言允许您将各种较小的表达式构造成复合表达式，只要表达式的一部分所需的数据类型与另一部分的数据类型相匹配即可。以下是一个复合表达式的例子：

```java
1 * 2 * 3
```

在这个特定的例子中，表达式的计算顺序并不重要，因为乘法的结果与顺序无关；无论您以何种顺序应用乘法，结果总是相同的。然而，并非所有的表达式都是如此。例如，以下表达式会根据您是先执行加法还是除法操作而有所不同：

```java
x + y / 100    // 模糊不清
```

您可以使用圆括号 `（` 和 `）` 明确指定表达式的计算顺序。例如，要使前一个表达式明确无误，您可以这样写：

```java
(x + y) / 100  // 明确无误，推荐使用
```

如果您没有明确指出要执行的操作顺序，顺序将由表达式中使用的运算符的优先级决定。优先级较高的运算符会先被计算。例如，除法运算符的优先级高于加法运算符。因此，以下两个语句是等价的：

```java
x + y / 100   // 模糊不清
x + (y / 100) // 明确无误，推荐使用
```

在编写复合表达式时，请明确指出使用括号的运算符应该先计算哪一个。这种做法使代码更易于阅读和维护。

## 浮点数运算
浮点数运算是一个特殊的领域，其中常见的操作可能会出人意料地表现。考虑以下代码：

```java
double d1 = 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1;
System.out.println("d1 == 1 ? " + (d1 == 1.0));
```

您可能期望它打印 `true`。但是由于浮点数加法的执行和舍入方式，它打印的是 `false`。

介绍Java中浮点数运算的实现方式超出了本教程的范围。如果您需要了解更多关于此主题的信息，您可以观看以下视频。

## 语句
语句大致相当于自然语言中的句子。语句是执行的一个完整单元。以下类型的表达式可以通过在表达式后加上分号 (`;`) 来构成语句：

- 赋值表达式
- 使用 `++` 或 `--` 的任何情况
- 方法调用
- 对象创建表达式
- 这样的语句称为表达式语句。以下是一些表达式语句的例子：

```java
// 赋值语句
aValue = 8933.234;

// 递增语句
aValue++;

// 方法调用语句
System.out.println("Hello World!");

// 对象创建语句
Bicycle myBike = new Bicycle();
```

除了表达式语句之外，还有两种其他类型的语句：声明语句和控制流语句。声明语句声明一个变量。您已经看到许多声明语句的例子：

```java
// 声明语句
double aValue = 8933.234;
```

最后，控制流语句调节语句的执行顺序。您将在下一节 "控制流语句" 中了解到有关控制流语句的内容。

## 代码块
代码块是在平衡大括号之间的零个或多个语句的组合，可以在任何允许单个语句的地方使用。以下示例 `BlockDemo` 演示了代码块的使用：

```java
class BlockDemo {
    public static void main(String[] args) {
        boolean condition = true;
        if (condition) { // 开始代码块 1
            System.out.println("Condition is true.");
        } // 结束代码块 1
        else { // 开始代码块 2
            System.out.println("Condition is false.");
        } // 结束代码块 2
    }
}
```

